<section id="projects" class="relative pt-[4vh] h-auto mx-4 lg:mx-[10rem] box-border min-h-fit">
    <p class="section__text__p1 text-center font-semibold text-gray-500">Découvrez mes récents</p>
    <h1 class="title text-3xl md:text-5xl text-center font-bold mb-8">Projets</h1>

    <div class="flex justify-center mb-8" *ngIf="isAdmin()">
        <a routerLink="/projets/new"
            class="bg-gray-800 text-white px-6 py-2 rounded-full hover:bg-black transition-all">
            + Ajouter un projet
        </a>
    </div>

    <div class="experience-details-container flex flex-col justify-center">
        <div class="about-containers flex gap-8 flex-wrap justify-center mb-8 mt-8">
            <div class="details-container p-6 flex-1 min-w-[300px] md:min-w-[350px] bg-[#fafafa] rounded-[2rem] border border-[#a3a3a3] text-center"
                *ngFor="let proj of projets()">
                <div class="article-container flex flex-col items-center gap-4">
                    <img [src]="proj.image || 'assets/project-1.png'" alt="Project Image"
                        class="rounded-[2rem] w-[90%] h-auto" />
                    <h2 class="text-2xl font-bold mt-4">{{ proj.titre }}</h2>

                    <div class="btn-container flex gap-4 mt-4">
                        <a *ngIf="proj.lien_github" [href]="proj.lien_github" target="_blank"
                            class="px-6 py-2 rounded-full border border-[#a3a3a3] hover:bg-black hover:text-white transition-all">Github</a>
                        <a *ngIf="proj.lien_demo" [href]="proj.lien_demo" target="_blank"
                            class="px-6 py-2 rounded-full border border-[#a3a3a3] hover:bg-black hover:text-white transition-all">Live
                            Demo</a>
                    </div>

                    <div class="flex gap-2 mt-4 justify-center" *ngIf="isAdmin()">
                        <a [routerLink]="['/projets/edit', proj.id]" (click)="$event.stopPropagation()"
                            class="flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-all font-semibold text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                            </svg>
                            Modifier
                        </a>
                        <button (click)="deleteProjet(proj.id, $event)"
                            class="flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all font-semibold text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                            Supprimer
                        </button>
                    </div>

                    <a [routerLink]="['/projets', proj.id]"
                        class="mt-2 text-sm text-gray-400 hover:text-black">Détails</a>
                </div>
            </div>
        </div>
    </div>
</section>